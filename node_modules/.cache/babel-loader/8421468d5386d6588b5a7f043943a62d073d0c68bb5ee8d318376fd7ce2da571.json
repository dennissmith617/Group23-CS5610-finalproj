{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { findAllBooksThunk, createBookThunk, updateBookThunk, deleteBookThunk, findBooksWithQuerryThunk } from \"./books-thunks\";\nconst initialState = {\n  books: [],\n  error: null,\n  loading: false\n};\nconst booksSlice = createSlice({\n  name: \"books\",\n  initialState,\n  reducers: {\n    // addTuit: (state, { payload }) => {\n    //   state.tuits = [...state.tuits, payload];\n    // },\n    // deleteTuit: (state, { payload }) => {\n    //   state.tuits = state.tuits.filter((tuit) => tuit._id !== payload._id);\n    // },\n    // updateTuit: (state, { payload }) => {\n    //   state.tuits = state.tuits.map((tuit) =>\n    //     tuit._id === payload._id ? payload : tuit\n    //   );\n    // },\n  },\n  extraReducers: {\n    [findAllBooksThunk.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.books = payload;\n      state.loading = false;\n    },\n    [findAllBooksThunk.rejected]: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.books = [];\n      state.error = payload;\n      state.loading = false;\n    },\n    [findAllBooksThunk.pending]: state => {\n      state.loading = true;\n    },\n    [createBookThunk.fulfilled]: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.books = [...state.books, payload];\n      state.loading = false;\n    },\n    [createBookThunk.rejected]: (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.error = payload;\n      state.loading = false;\n    },\n    [createBookThunk.pending]: state => {\n      state.loading = true;\n    },\n    [updateBookThunk.fulfilled]: (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.books = state.tuits.map(book => book._id === payload._id ? payload : book);\n      state.loading = false;\n    },\n    [deleteBookThunk.fulfilled]: (state, _ref6) => {\n      let {\n        payload\n      } = _ref6;\n      state.books = state.books.filter(book => book._id !== payload);\n      state.loading = false;\n    },\n    [findBooksWithQuerryThunk.fulfilled]: (state, _ref7) => {\n      let {\n        payload\n      } = _ref7;\n      state.books = payload;\n      state.loading = false;\n    }\n  }\n});\nexport default booksSlice.reducer;\nexport const {\n  addTuit,\n  deleteTuit,\n  updateTuit\n} = booksSlice.actions;","map":{"version":3,"names":["createSlice","findAllBooksThunk","createBookThunk","updateBookThunk","deleteBookThunk","findBooksWithQuerryThunk","initialState","books","error","loading","booksSlice","name","reducers","extraReducers","fulfilled","state","payload","rejected","pending","tuits","map","book","_id","filter","reducer","addTuit","deleteTuit","updateTuit","actions"],"sources":["C:/Nesara_Webev_Project/Group23-CS5610-finalproj/src/readit/search/books-reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  findAllBooksThunk,\r\n  createBookThunk,\r\n  updateBookThunk,\r\n  deleteBookThunk,\r\n  findBooksWithQuerryThunk,\r\n} from \"./books-thunks\";\r\nconst initialState = {\r\n  books: [],\r\n  error: null,\r\n  loading: false,\r\n};\r\n\r\nconst booksSlice = createSlice({\r\n  name: \"books\",\r\n  initialState,\r\n  reducers: {\r\n    // addTuit: (state, { payload }) => {\r\n    //   state.tuits = [...state.tuits, payload];\r\n    // },\r\n    // deleteTuit: (state, { payload }) => {\r\n    //   state.tuits = state.tuits.filter((tuit) => tuit._id !== payload._id);\r\n    // },\r\n    // updateTuit: (state, { payload }) => {\r\n    //   state.tuits = state.tuits.map((tuit) =>\r\n    //     tuit._id === payload._id ? payload : tuit\r\n    //   );\r\n    // },\r\n  },\r\n  extraReducers: {\r\n    [findAllBooksThunk.fulfilled]: (state, { payload }) => {\r\n      state.books = payload;\r\n      state.loading = false;\r\n    },\r\n    [findAllBooksThunk.rejected]: (state, { payload }) => {\r\n      state.books = [];\r\n      state.error = payload;\r\n      state.loading = false;\r\n    },\r\n    [findAllBooksThunk.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [createBookThunk.fulfilled]: (state, { payload }) => {\r\n      state.books = [...state.books, payload];\r\n      state.loading = false;\r\n    },\r\n    [createBookThunk.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n      state.loading = false;\r\n    },\r\n    [createBookThunk.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [updateBookThunk.fulfilled]: (state, { payload }) => {\r\n      state.books = state.tuits.map((book) =>\r\n        book._id === payload._id ? payload : book\r\n      );\r\n      state.loading = false;\r\n    },\r\n    [deleteBookThunk.fulfilled]: (state, { payload }) => {\r\n      state.books = state.books.filter((book) => book._id !== payload);\r\n      state.loading = false;\r\n    },\r\n    [findBooksWithQuerryThunk.fulfilled]:(state,{payload}) =>{\r\n      state.books = payload;\r\n      state.loading= false;\r\n    }\r\n  },\r\n});\r\n\r\nexport default booksSlice.reducer;\r\nexport const { addTuit, deleteTuit, updateTuit } = booksSlice.actions;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SACEC,iBAAiB,EACjBC,eAAe,EACfC,eAAe,EACfC,eAAe,EACfC,wBAAwB,QACnB,gBAAgB;AACvB,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,KAAK,EAAE,IAAI;EACXC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,UAAU,GAAGV,WAAW,CAAC;EAC7BW,IAAI,EAAE,OAAO;EACbL,YAAY;EACZM,QAAQ,EAAE;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACD;EACDC,aAAa,EAAE;IACb,CAACZ,iBAAiB,CAACa,SAAS,GAAG,CAACC,KAAK,WAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC;MAChDD,KAAK,CAACR,KAAK,GAAGS,OAAO;MACrBD,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACD,CAACR,iBAAiB,CAACgB,QAAQ,GAAG,CAACF,KAAK,YAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC;MAC/CD,KAAK,CAACR,KAAK,GAAG,EAAE;MAChBQ,KAAK,CAACP,KAAK,GAAGQ,OAAO;MACrBD,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACD,CAACR,iBAAiB,CAACiB,OAAO,GAAIH,KAAK,IAAK;MACtCA,KAAK,CAACN,OAAO,GAAG,IAAI;IACtB,CAAC;IACD,CAACP,eAAe,CAACY,SAAS,GAAG,CAACC,KAAK,YAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC;MAC9CD,KAAK,CAACR,KAAK,GAAG,CAAC,GAAGQ,KAAK,CAACR,KAAK,EAAES,OAAO,CAAC;MACvCD,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACD,CAACP,eAAe,CAACe,QAAQ,GAAG,CAACF,KAAK,YAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC;MAC7CD,KAAK,CAACP,KAAK,GAAGQ,OAAO;MACrBD,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACD,CAACP,eAAe,CAACgB,OAAO,GAAIH,KAAK,IAAK;MACpCA,KAAK,CAACN,OAAO,GAAG,IAAI;IACtB,CAAC;IACD,CAACN,eAAe,CAACW,SAAS,GAAG,CAACC,KAAK,YAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC;MAC9CD,KAAK,CAACR,KAAK,GAAGQ,KAAK,CAACI,KAAK,CAACC,GAAG,CAAEC,IAAI,IACjCA,IAAI,CAACC,GAAG,KAAKN,OAAO,CAACM,GAAG,GAAGN,OAAO,GAAGK,IAAI,CAC1C;MACDN,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACD,CAACL,eAAe,CAACU,SAAS,GAAG,CAACC,KAAK,YAAkB;MAAA,IAAhB;QAAEC;MAAQ,CAAC;MAC9CD,KAAK,CAACR,KAAK,GAAGQ,KAAK,CAACR,KAAK,CAACgB,MAAM,CAAEF,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKN,OAAO,CAAC;MAChED,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACD,CAACJ,wBAAwB,CAACS,SAAS,GAAE,CAACC,KAAK,YAAc;MAAA,IAAb;QAACC;MAAO,CAAC;MACnDD,KAAK,CAACR,KAAK,GAAGS,OAAO;MACrBD,KAAK,CAACN,OAAO,GAAE,KAAK;IACtB;EACF;AACF,CAAC,CAAC;AAEF,eAAeC,UAAU,CAACc,OAAO;AACjC,OAAO,MAAM;EAAEC,OAAO;EAAEC,UAAU;EAAEC;AAAW,CAAC,GAAGjB,UAAU,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}